// src/worker.js
import { connect } from "cloudflare:sockets";
let password = 'fadztech';
let proxyIP = ['131.186.28.236'];// Or use 'usa.revil.link'

let addresses = [
	// everything you want, When sub is empty, the local preferred domain name/preferred IP is enabled. If the port number is not provided, the default TLS port is 443, and the alias after the # sign is a remark
	'icook.hk:2083#꓃Tr -1',
	'cdnjs.com:8443#꓃Tr -2',
	'zula.ir:443#꓃Tr -3',
	'sky.rethinkdns.com:2053#꓃Tr -4',
	'www.speedtest.net:443#꓃Tr -5',
	'time.cloudflare.com:2053#꓃Tr -6',
	'go.inmobi.com:2096#꓃Tr -7',
	'creativecommons.org:2087#꓃Tr -8',
	'horsefucker.pages.dev:8443#꓃Tr -9',
	'holyfuck.xcdi.workers.dev:2083#꓃Tr -10',
];

let sub = 'fadztech';
let subconverter = 'url.v1.mk';// Clash subscription conversion backend, currently using Feiyang's subscription conversion function. Comes with fake node information to prevent leakage
let subconfig = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini.ini";// Subscription Profile
let RproxyIP = 'false';

let addressesapi = [];// you can use any addresses api's like this ['https://raw.githubusercontent.com/NiREvil/Trauma/main/cleanIPs.txt'];
let addressescsv = [];
let DLS = 8;

let FileName = 'fadztech';
let BotToken ='';
let ChatID =''; 
let proxyhosts = [];//Local proxy domain name pool
let proxyhostsURL = [];//Online proxy domain pool URL
const _0xa12f2=_0x1bef;(function(_0x235f1e,_0x46d764){const _0x4b7227=_0x1bef,_0x339bce=_0x235f1e();while(!![]){try{const _0x5d4b35=-parseInt(_0x4b7227(0x21c))/0x1+parseInt(_0x4b7227(0x1d9))/0x2+-parseInt(_0x4b7227(0x296))/0x3*(parseInt(_0x4b7227(0x24b))/0x4)+parseInt(_0x4b7227(0x281))/0x5*(-parseInt(_0x4b7227(0x1e4))/0x6)+-parseInt(_0x4b7227(0x21f))/0x7+parseInt(_0x4b7227(0x1c6))/0x8*(-parseInt(_0x4b7227(0x264))/0x9)+parseInt(_0x4b7227(0x1d1))/0xa*(parseInt(_0x4b7227(0x290))/0xb);if(_0x5d4b35===_0x46d764)break;else _0x339bce['push'](_0x339bce['shift']());}catch(_0x2d6df2){_0x339bce['push'](_0x339bce['shift']());}}}(_0x4040,0x6a28e));function _0x1bef(_0x3dad7a,_0xd2f990){const _0x404042=_0x4040();return _0x1bef=function(_0x1befd5,_0x555330){_0x1befd5=_0x1befd5-0x19f;let _0x16bc9c=_0x404042[_0x1befd5];return _0x16bc9c;},_0x1bef(_0x3dad7a,_0xd2f990);}let sha224Password=_0xa12f2(0x1da),fakeUserID=generateUUID(),fakeHostName=generateRandomString();const regex=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;export default{async 'fetch'(_0x47e62c,_0x13b60a,_0x1e437c){const _0x5141f4=_0xa12f2;try{const _0x100ce3=_0x47e62c[_0x5141f4(0x207)][_0x5141f4(0x22b)](_0x5141f4(0x26d))||'null',_0x38cb62=_0x100ce3['toLowerCase']();proxyIP=_0x13b60a[_0x5141f4(0x1f1)]||proxyIP;const _0x4e8b9b=await ADD(proxyIP);proxyIP=_0x4e8b9b[Math[_0x5141f4(0x1cf)](Math[_0x5141f4(0x1b9)]()*_0x4e8b9b[_0x5141f4(0x256)])],password=_0x13b60a[_0x5141f4(0x206)]||password,sha224Password=sha256['sha224'](password);const _0x17e9da=new URL(_0x47e62c['url']),_0x48506a=_0x47e62c[_0x5141f4(0x207)][_0x5141f4(0x22b)](_0x5141f4(0x24d));if(_0x13b60a[_0x5141f4(0x1f0)])addresses=await ADD(_0x13b60a[_0x5141f4(0x1f0)]);if(_0x13b60a[_0x5141f4(0x1fb)])addressesapi=await ADD(_0x13b60a[_0x5141f4(0x1fb)]);if(_0x13b60a[_0x5141f4(0x1c0)])addressescsv=await ADD(_0x13b60a['ADDCSV']);DLS=_0x13b60a[_0x5141f4(0x25f)]||DLS,BotToken=_0x13b60a[_0x5141f4(0x1aa)]||BotToken,ChatID=_0x13b60a[_0x5141f4(0x269)]||ChatID,sub=_0x13b60a[_0x5141f4(0x29a)]||sub,subconverter=_0x13b60a[_0x5141f4(0x297)]||subconverter,subconfig=_0x13b60a['SUBCONFIG']||subconfig,FileName=_0x13b60a[_0x5141f4(0x1fd)]||FileName,RproxyIP=_0x13b60a['RPROXYIP']||!proxyIP?_0x5141f4(0x1e1):_0x5141f4(0x1d8);if(!_0x48506a||_0x48506a!==_0x5141f4(0x22e))switch(_0x17e9da['pathname']){case'/':const _0x4faca1=_0x13b60a[_0x5141f4(0x1e2)]?_0x5141f4(0x1e2):_0x13b60a[_0x5141f4(0x246)]?_0x5141f4(0x246):null;if(_0x4faca1){const _0x38819b=await ADD(_0x13b60a[_0x4faca1]),_0x260c42=_0x38819b[Math[_0x5141f4(0x1cf)](Math[_0x5141f4(0x1b9)]()*_0x38819b['length'])];return _0x4faca1==='URL302'?Response[_0x5141f4(0x26a)](_0x260c42,0x12e):fetch(new Request(_0x260c42,_0x47e62c));}return new Response(JSON['stringify'](_0x47e62c['cf'],null,0x4),{'status':0xc8});case'/'+password:await sendMessage(_0x5141f4(0x28b)+FileName,_0x47e62c[_0x5141f4(0x207)][_0x5141f4(0x22b)](_0x5141f4(0x25b)),'UA:\x20'+_0x100ce3+_0x5141f4(0x19f)+_0x17e9da['hostname']+_0x5141f4(0x1a9)+(_0x17e9da['pathname']+_0x17e9da[_0x5141f4(0x1cb)])+_0x5141f4(0x242));const _0x4b38b5=await getTrojanConfig(password,_0x47e62c[_0x5141f4(0x207)][_0x5141f4(0x22b)](_0x5141f4(0x1ad)),sub,_0x100ce3,RproxyIP,_0x17e9da),_0x1f81c7=Date[_0x5141f4(0x278)](),_0x558372=0xf4849500,_0x35780d=new Date(_0x1f81c7);_0x35780d[_0x5141f4(0x22c)](0x0,0x0,0x0,0x0);const _0x5203b2=Math['floor']((_0x1f81c7-_0x35780d[_0x5141f4(0x20c)]())/0x5265c00*0x18*0x10000000000/0x2);return _0x38cb62&&(_0x38cb62[_0x5141f4(0x277)](_0x5141f4(0x1a4))||_0x38cb62['includes']('subconverter'))?new Response(''+_0x4b38b5,{'status':0xc8,'headers':{'Content-Type':_0x5141f4(0x1fc),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x5141f4(0x225)+_0x5203b2+_0x5141f4(0x1d4)+_0x5203b2+_0x5141f4(0x235)+0x18*0x10000000000+_0x5141f4(0x22a)+_0x558372}}):new Response(''+_0x4b38b5,{'status':0xc8,'headers':{'Content-Disposition':'attachment;\x20filename='+FileName+_0x5141f4(0x1ff)+FileName,'Content-Type':_0x5141f4(0x1fc),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x5141f4(0x225)+_0x5203b2+_0x5141f4(0x1d4)+_0x5203b2+_0x5141f4(0x235)+0x18*0x10000000000+';\x20expire='+_0x558372}});default:return new Response(_0x5141f4(0x293),{'status':0x194});}else{proxyIP=_0x17e9da[_0x5141f4(0x1ba)]['get']('proxyip')||proxyIP;if(new RegExp('/proxyip=','i')[_0x5141f4(0x214)](_0x17e9da[_0x5141f4(0x258)]))proxyIP=_0x17e9da[_0x5141f4(0x258)][_0x5141f4(0x1d3)]()[_0x5141f4(0x24e)](_0x5141f4(0x1b4))[0x1];else{if(new RegExp('/proxyip.','i')[_0x5141f4(0x214)](_0x17e9da[_0x5141f4(0x258)]))proxyIP=_0x5141f4(0x1b1)+_0x17e9da[_0x5141f4(0x258)][_0x5141f4(0x1d3)]()[_0x5141f4(0x24e)](_0x5141f4(0x25a))[0x1];else{if(!proxyIP||proxyIP=='')proxyIP=_0x5141f4(0x1ae);}}return await trojanOverWSHandler(_0x47e62c);}}catch(_0x2f0448){let _0x28cc48=_0x2f0448;return new Response(_0x28cc48[_0x5141f4(0x222)]());}}};async function trojanOverWSHandler(_0x4da764){const _0x58b7d2=_0xa12f2,_0xe1e336=new WebSocketPair(),[_0xb48e2f,_0x126c5e]=Object['values'](_0xe1e336);_0x126c5e[_0x58b7d2(0x229)]();let _0x2e2dee='',_0x209d65='';const _0x281c84=(_0xe93418,_0x464011)=>{const _0x125147=_0x58b7d2;console[_0x125147(0x238)]('['+_0x2e2dee+':'+_0x209d65+']\x20'+_0xe93418,_0x464011||'');},_0x311145=_0x4da764[_0x58b7d2(0x207)]['get'](_0x58b7d2(0x1ce))||'',_0x2d2c35=makeReadableWebSocketStream(_0x126c5e,_0x311145,_0x281c84);let _0x394730={'value':null},_0x39a8cc=null;return _0x2d2c35[_0x58b7d2(0x1e7)](new WritableStream({async 'write'(_0x400106,_0x62ecd0){const _0x19e297=_0x58b7d2;if(_0x39a8cc)return _0x39a8cc(_0x400106);if(_0x394730[_0x19e297(0x1e8)]){const _0x30f097=_0x394730[_0x19e297(0x1e8)][_0x19e297(0x1eb)]['getWriter']();await _0x30f097[_0x19e297(0x295)](_0x400106),_0x30f097[_0x19e297(0x228)]();return;}const {hasError:_0x391593,message:_0x59095a,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawClientData:_0x4a3a6c}=await parseTrojanHeader(_0x400106);_0x2e2dee=addressRemote,_0x209d65=portRemote+'--'+Math[_0x19e297(0x1b9)]()+_0x19e297(0x1ea);if(_0x391593){throw new Error(_0x59095a);return;}handleTCPOutBound(_0x394730,addressRemote,portRemote,_0x4a3a6c,_0x126c5e,_0x281c84);},'close'(){_0x281c84('readableWebSocketStream\x20is\x20closed');},'abort'(_0xee3e7a){const _0x552cb0=_0x58b7d2;_0x281c84(_0x552cb0(0x28e),JSON['stringify'](_0xee3e7a));}}))[_0x58b7d2(0x233)](_0x5f2c99=>{const _0x522147=_0x58b7d2;_0x281c84(_0x522147(0x1a6),_0x5f2c99);}),new Response(null,{'status':0x65,'webSocket':_0xb48e2f});}async function parseTrojanHeader(_0x1c4904){const _0x3ec11c=_0xa12f2;if(_0x1c4904['byteLength']<0x38)return{'hasError':!![],'message':_0x3ec11c(0x273)};let _0x551e2e=0x38;if(new Uint8Array(_0x1c4904[_0x3ec11c(0x1a2)](0x38,0x39))[0x0]!==0xd||new Uint8Array(_0x1c4904['slice'](0x39,0x3a))[0x0]!==0xa)return{'hasError':!![],'message':'invalid\x20header\x20format\x20(missing\x20CR\x20LF)'};const _0x425610=new TextDecoder()[_0x3ec11c(0x1fa)](_0x1c4904[_0x3ec11c(0x1a2)](0x0,_0x551e2e));if(_0x425610!==sha224Password)return{'hasError':!![],'message':_0x3ec11c(0x259)};const _0xc51e88=_0x1c4904['slice'](_0x551e2e+0x2);if(_0xc51e88[_0x3ec11c(0x28c)]<0x6)return{'hasError':!![],'message':'invalid\x20SOCKS5\x20request\x20data'};const _0x1b6b98=new DataView(_0xc51e88),_0x1b6883=_0x1b6b98[_0x3ec11c(0x208)](0x0);if(_0x1b6883!==0x1)return{'hasError':!![],'message':_0x3ec11c(0x1af)};const _0x107461=_0x1b6b98['getUint8'](0x1);let _0x55e339=0x0,_0x31e219=0x2,_0x3358b7='';switch(_0x107461){case 0x1:_0x55e339=0x4,_0x3358b7=new Uint8Array(_0xc51e88[_0x3ec11c(0x1a2)](_0x31e219,_0x31e219+_0x55e339))[_0x3ec11c(0x1e9)]('.');break;case 0x3:_0x55e339=new Uint8Array(_0xc51e88[_0x3ec11c(0x1a2)](_0x31e219,_0x31e219+0x1))[0x0],_0x31e219+=0x1,_0x3358b7=new TextDecoder()[_0x3ec11c(0x1fa)](_0xc51e88['slice'](_0x31e219,_0x31e219+_0x55e339));break;case 0x4:_0x55e339=0x10;const _0x5a8cdc=new DataView(_0xc51e88['slice'](_0x31e219,_0x31e219+_0x55e339)),_0xd3442a=[];for(let _0x37b806=0x0;_0x37b806<0x8;_0x37b806++){_0xd3442a[_0x3ec11c(0x240)](_0x5a8cdc[_0x3ec11c(0x1ca)](_0x37b806*0x2)[_0x3ec11c(0x222)](0x10));}_0x3358b7=_0xd3442a[_0x3ec11c(0x1e9)](':');break;default:return{'hasError':!![],'message':_0x3ec11c(0x1b3)+_0x107461};}if(!_0x3358b7)return{'hasError':!![],'message':_0x3ec11c(0x270)+_0x107461};const _0x5f0079=_0x31e219+_0x55e339,_0x373044=_0xc51e88['slice'](_0x5f0079,_0x5f0079+0x2),_0x1affb5=new DataView(_0x373044)[_0x3ec11c(0x1ca)](0x0);return{'hasError':![],'addressRemote':_0x3358b7,'portRemote':_0x1affb5,'rawClientData':_0xc51e88[_0x3ec11c(0x1a2)](_0x5f0079+0x4)};}function _0x4040(){const _0x58be8d=['User-Agent','hex','&host=','address\x20is\x20empty,\x20addressType\x20is\x20','isView','readableStream\x20was\x20canceled,\x20due\x20to\x20','invalid\x20data','message','\x0aIP:\x20','text/html,application/xhtml+xml,application/xml;','includes','now','.workers.dev','remoteSocketToWS\x20error:','utf8','blocks','JS_SHA256_NO_WINDOW','&path=','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.',',\x22udp\x22:false,\x22password\x22:\x22','1545170ueulIX','match','send','createHash','tls','versions','finalize','text','?singbox\x0a\x0a','\x0a\x0aBase64Sublink:\x0ahttps://','#获取订阅\x20','byteLength','\x0a<tg-spoiler>城市:\x20','readableWebSocketStream\x20is\x20aborted','singbox','77110zvEczW','abcdefghijklmnopqrstuvwxyz','filter','Incorrect\x20password!!!','allSettled','write','3pPBhgD','SUBAPI','\x0a国家:\x20','hmac','SUB','</tg-spoiler>\x0a域名:\x20','?base64\x0a\x0aclashSublink:\x0ahttps://','remoteSocket.readable\x20is\x20closed,\x20hasIncomingData:\x20','slice','sharedMemory','mozilla','pages.dev','readableWebSocketStream\x20pipeTo\x20error','retry\x20tcpSocket\x20closed\x20error','string','\x0a<tg-spoiler>入口:\x20','TGTOKEN','isArray','update','Host','proxyip.fxxk.dedyn.io','unsupported\x20command,\x20only\x20TCP\x20(CONNECT)\x20is\x20allowed','object','proxyip.','?b64\x0ahttps://','invalid\x20addressType\x20is\x20','/proxyip=','?security=tls&type=ws&host=','data','/?ed=2560','digest','random','searchParams','/sub?target=singbox&url=','https://api.telegram.org/bot','\x22,\x22ws-opts\x22:{\x22path\x22:\x22','?sb\x0ahttps://','subconverter','ADDCSV','safeCloseWebSocket\x20error','-\x20{\x22name\x22:\x22','error','create','获取地址时出错:','864344bJwTLM','crypto','start','charAt','getUint16','search','chromeBugWorkAround','\x22}}}','sec-websocket-protocol','floor','\x20CF-Workers-epeius/cmliu','3380IghHRf','function','toLowerCase',';\x20download=','arrayBuffer','some','[object\x20Array]','false','922668aFnclh','10f9b41e385c211fdcdd92491cf3068d036618b61602807abb06316d','retry','getWriter','443','JS_SHA256_NO_BUFFER_FROM','/sub?host=','sub','true','URL302','TRUE','12zuqubm','constructor','.pages.dev','pipeTo','value','join','\x20tcp','writable','\x22,\x22server\x22:\x22','skip-cert-verify=true','Mozilla/5.0\x20Chrome/90.0.4430.72','close','ADD','PROXYIP','&insert=false&config=','CSV文件缺少必需的字段','clash','\x0a---------------------------------------------------\x0a###################################################\x0aclash-meta\x0a---------------------------------------------------\x0a','sha224','is224','status','then','decode','ADDAPI','text/plain;charset=utf-8','SUBNAME','\x22,\x22port\x22:',';\x20filename*=utf-8\x27\x27','call','skip-cert-verify=true,\x20ws=true,\x20ws-path=/?ed=2560,\x20ws-headers=Host:\x22','charCodeAt','replace','surge','oKeyPad','PASSWORD','headers','getUint8','signal','&type=','dHJvamFu','getTime','cmliu/WorkerTrojan2sub','0123456789abcdef','concat','org','b64','/sub?target=clash&url=','fromCharCode','test','enqueue','statusText','sha256','setUint32','\x22,\x22type\x22:\x22','\x20automatic,\x20acquisitionproxyIP:\x20','from','615536aPQQiF','\x22,\x22skip-cert-verify\x22:true,\x22network\x22:\x22','input\x20is\x20invalid\x20type','5491122nnoFHe','获取CSV地址时出错:','?clash\x0a\x0asingboxSublink:\x0ahttps://','toString','first','block','upload=','hashed','&pw=','releaseLock','accept',';\x20expire=','get','setHours','&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','websocket','buffer','readable','reject','trim','catch','readyState',';\x20total=','webSocketServer\x20error','finalized','log','amd','map','nekobox','Sub links do not work well without a custom domain','gzip,\x20deflate,\x20br','abort','?security=','push','prototype','</tg-spoiler>','.\x0a---------------------------------------------------\x0aFastAdaptive:\x0ahttps://','lastByteIndex','bytes','URL','$1-$2-$3-$4-$5','exports','&emoji=true&list=false&xudp=false&udp=false&tfo=false&expand=true&scv=true&fdn=false','&password=','1079164EseinQ','finally','Upgrade','split','addEventListener','base64','://','has','\x20please bind your custom domain as soon as possible!','https://','array','length','hash','pathname','invalid\x20password','/proxyip.','CF-Connecting-IP','JS_SHA256_NO_NODE_JS','&parse_mode=HTML&text=','Error\x20fetching\x20content:\x20','DLS','?sub\x0ahttps://','Surge订阅地址:\x0ahttps://','/sendMessage?chat_id=','country','9OGCggR','JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW','node','inner','closed','TGID','redirect','TLS','hBytes'];_0x4040=function(){return _0x58be8d;};return _0x4040();}async function handleTCPOutBound(_0x2defed,_0x58ae60,_0x10149a,_0x5145a5,_0x5b1d03,_0x3fbc09){async function _0x5b5bc5(_0x1fd9d1,_0x38856e){const _0x19f91f=_0x1bef,_0xf86f90=connect({'hostname':_0x1fd9d1,'port':_0x38856e});_0x2defed['value']=_0xf86f90,_0x3fbc09('connected\x20to\x20'+_0x1fd9d1+':'+_0x38856e);const _0x2b732f=_0xf86f90[_0x19f91f(0x1eb)][_0x19f91f(0x1dc)]();return await _0x2b732f[_0x19f91f(0x295)](_0x5145a5),_0x2b732f[_0x19f91f(0x228)](),_0xf86f90;}async function _0x4389dd(){const _0x20d275=_0x1bef,_0x38f570=await _0x5b5bc5(proxyIP||_0x58ae60,_0x10149a);_0x38f570[_0x20d275(0x268)][_0x20d275(0x233)](_0x1b2111=>{const _0x3fd6f2=_0x20d275;console[_0x3fd6f2(0x238)](_0x3fd6f2(0x1a7),_0x1b2111);})[_0x20d275(0x24c)](()=>{safeCloseWebSocket(_0x5b1d03);}),remoteSocketToWS(_0x38f570,_0x5b1d03,null,_0x3fbc09);}const _0x56a714=await _0x5b5bc5(_0x58ae60,_0x10149a);remoteSocketToWS(_0x56a714,_0x5b1d03,_0x4389dd,_0x3fbc09);}function makeReadableWebSocketStream(_0x38ae2c,_0x46faef,_0x33ffa7){let _0x2de6c3=![];const _0x26c077=new ReadableStream({'start'(_0x4dbb22){const _0x1a9856=_0x1bef;_0x38ae2c['addEventListener'](_0x1a9856(0x274),_0x173ed2=>{const _0x2dfd72=_0x1a9856;if(_0x2de6c3)return;const _0x35cd93=_0x173ed2[_0x2dfd72(0x1b6)];_0x4dbb22[_0x2dfd72(0x215)](_0x35cd93);}),_0x38ae2c[_0x1a9856(0x24f)](_0x1a9856(0x1ef),()=>{safeCloseWebSocket(_0x38ae2c);if(_0x2de6c3)return;_0x4dbb22['close']();}),_0x38ae2c['addEventListener'](_0x1a9856(0x1c3),_0x1791b1=>{const _0x5c0df7=_0x1a9856;_0x33ffa7(_0x5c0df7(0x236)),_0x4dbb22[_0x5c0df7(0x1c3)](_0x1791b1);});const {earlyData:_0xed841e,error:_0x56047f}=base64ToArrayBuffer(_0x46faef);if(_0x56047f)_0x4dbb22[_0x1a9856(0x1c3)](_0x56047f);else _0xed841e&&_0x4dbb22[_0x1a9856(0x215)](_0xed841e);},'pull'(_0x14c46e){},'cancel'(_0x4e0693){const _0x2a19fb=_0x1bef;if(_0x2de6c3)return;_0x33ffa7(_0x2a19fb(0x272)+_0x4e0693),_0x2de6c3=!![],safeCloseWebSocket(_0x38ae2c);}});return _0x26c077;}async function remoteSocketToWS(_0x11ee43,_0x3b5010,_0x1391e5,_0x432877){const _0x18b6f6=_0xa12f2;let _0x53a089=![];await _0x11ee43[_0x18b6f6(0x230)][_0x18b6f6(0x1e7)](new WritableStream({'start'(){},async 'write'(_0x2ea7ce,_0xd5d33d){const _0x117c8d=_0x18b6f6;_0x53a089=!![],_0x3b5010[_0x117c8d(0x234)]!==WS_READY_STATE_OPEN&&_0xd5d33d['error']('webSocket\x20connection\x20is\x20not\x20open'),_0x3b5010[_0x117c8d(0x283)](_0x2ea7ce);},'close'(){const _0x4b77eb=_0x18b6f6;_0x432877(_0x4b77eb(0x1a1)+_0x53a089);},'abort'(_0x33001b){console['error']('remoteSocket.readable\x20abort',_0x33001b);}}))['catch'](_0x79670d=>{const _0x5353d5=_0x18b6f6;console[_0x5353d5(0x1c3)](_0x5353d5(0x27a),_0x79670d['stack']||_0x79670d),safeCloseWebSocket(_0x3b5010);}),_0x53a089===![]&&_0x1391e5&&(_0x432877(_0x18b6f6(0x1db)),_0x1391e5());}function base64ToArrayBuffer(_0x41161a){const _0x50af25=_0xa12f2;if(!_0x41161a)return{'error':null};try{_0x41161a=_0x41161a[_0x50af25(0x203)](/-/g,'+')[_0x50af25(0x203)](/_/g,'/');const _0x11f7ae=atob(_0x41161a),_0x211595=Uint8Array['from'](_0x11f7ae,_0x1b3757=>_0x1b3757[_0x50af25(0x202)](0x0));return{'earlyData':_0x211595[_0x50af25(0x22f)],'error':null};}catch(_0x410eaf){return{'error':_0x410eaf};}}let WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x234306){const _0x524bc4=_0xa12f2;try{(_0x234306[_0x524bc4(0x234)]===WS_READY_STATE_OPEN||_0x234306['readyState']===WS_READY_STATE_CLOSING)&&_0x234306[_0x524bc4(0x1ef)]();}catch(_0x2ebf6a){console[_0x524bc4(0x1c3)](_0x524bc4(0x1c1),_0x2ebf6a);}}function revertFakeInfo(_0x163cbd,_0x593d2e,_0x51bdc6,_0x3c2311){const _0x14d5d8=_0xa12f2;if(_0x3c2311)_0x163cbd=atob(_0x163cbd);_0x163cbd=_0x163cbd[_0x14d5d8(0x203)](new RegExp(fakeUserID,'g'),_0x593d2e)['replace'](new RegExp(fakeHostName,'g'),_0x51bdc6);if(_0x3c2311)_0x163cbd=btoa(_0x163cbd);return _0x163cbd;}function generateRandomNumber(){const _0x57426c=_0xa12f2;let _0x3646b5=0x186a0,_0x2123cc=0xf423f;return Math['floor'](Math[_0x57426c(0x1b9)]()*(_0x2123cc-_0x3646b5+0x1))+_0x3646b5;}function generateRandomString(){const _0x10f9e9=_0xa12f2;let _0x37c4cb=0x2,_0x3f180c=0x3,_0x5a68bd=Math['floor'](Math[_0x10f9e9(0x1b9)]()*(_0x3f180c-_0x37c4cb+0x1))+_0x37c4cb,_0x450450=_0x10f9e9(0x291),_0x3f80='';for(let _0x101ac0=0x0;_0x101ac0<_0x5a68bd;_0x101ac0++){_0x3f80+=_0x450450[Math[_0x10f9e9(0x1cf)](Math[_0x10f9e9(0x1b9)]()*_0x450450[_0x10f9e9(0x256)])];}return _0x3f80;}function generateUUID(){const _0x1f28f0=_0xa12f2;let _0x17bc6a='';for(let _0x149d08=0x0;_0x149d08<0x20;_0x149d08++){let _0x56f2d1=Math[_0x1f28f0(0x1cf)](Math['random']()*0x10);_0x56f2d1<0xa?_0x17bc6a+=_0x56f2d1:_0x17bc6a+=String[_0x1f28f0(0x213)](_0x56f2d1+0x37);}return _0x17bc6a[_0x1f28f0(0x203)](/(.{8})(.{4})(.{4})(.{4})(.{12})/,_0x1f28f0(0x247))[_0x1f28f0(0x1d3)]();}async function ADD(_0x427471){const _0x5b4a99=_0xa12f2;var _0x2901dd=_0x427471[_0x5b4a99(0x203)](/[	|"'\r\n]+/g,',')[_0x5b4a99(0x203)](/,+/g,',');if(_0x2901dd[_0x5b4a99(0x1c9)](0x0)==',')_0x2901dd=_0x2901dd[_0x5b4a99(0x1a2)](0x1);if(_0x2901dd[_0x5b4a99(0x1c9)](_0x2901dd[_0x5b4a99(0x256)]-0x1)==',')_0x2901dd=_0x2901dd[_0x5b4a99(0x1a2)](0x0,_0x2901dd['length']-0x1);const _0x11051b=_0x2901dd[_0x5b4a99(0x24e)](',');return _0x11051b;}function 配置信息(_0x317139,_0x241151){const _0x2022ee=_0xa12f2,_0x562062=_0x2022ee(0x20b),_0x232608=atob(_0x562062),_0x59f05b=_0x241151;let _0x4e7be8=_0x241151,_0x2a021d=0x1bb;const _0x5db2c2='ws',_0x389098=_0x241151,_0xc3c9ea=_0x2022ee(0x1b7);let _0x28f09b=[_0x2022ee(0x285),!![]];const 
